// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Buyer {
  id            String         @id
  companyName   String         @map("company_name")
  province      String
  city          String
  latitude      Float
  longitude     Float
  nearestPoints NearestPoint[]

  @@map("buyers")
}

model Seller {
  id            String         @id
  companyName   String         @map("company_name")
  province      String
  city          String
  latitude      Float
  longitude     Float
  nearestPoints NearestPoint[]

  @@map("sellers")
}

model NearestPoint {
  id       Int    @id @default(autoincrement())
  buyer    Buyer  @relation(fields: [buyerId], references: [id])
  buyerId  String @map("buyer_id")
  seller   Seller @relation(fields: [sellerId], references: [id])
  sellerId String @map("seller_id")
  distance Float

  @@map("nearest_points")
}
